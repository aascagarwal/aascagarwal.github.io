"use strict";(self.webpackChunkshmooz_admin=self.webpackChunkshmooz_admin||[]).push([[3535],{73535:function(e,n,t){t.r(n);var r=t(15861),i=t(29439),c=t(1413),l=t(64687),s=t.n(l),o=t(47313),a=t(2135),d=t(19860),u=t(23477),h=t(24076),x=t(67478),p=t(44758),f=t(82558),Z=t(57829),g=t(9289),j=t(61113),m=t(61689),v=t(47131),b=t(93405),S=t(9019),k=t(24631),w=t(41727),C=t(42420),P=t(51629),y=t(66835),z=t(57861),E=t(70024),D=t(62323),A=t(94469),I=t(50282),L=t(33497),O=t(77863),R=t(55281),W=t(51997),_=t(44289),q=t(94788),B=t(49854),M=t(57983),N=t(83033),T=t(25087),U=t(46417);function F(e,n,t){var r=n[t];!0===n[t]?r=1:!1===n[t]&&(r=0);var i=e[t];return!0===e[t]?i=1:!1===e[t]&&(i=0),r<i?-1:r>i?1:0}var G=function(e,n){return"desc"===e?function(e,t){return F(e,t,n)}:function(e,t){return-F(e,t,n)}};function H(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))}var J=[{id:"title",numeric:!1,label:"Event Name",align:"left"},{id:"description",numeric:!1,label:"Description",align:"left"},{id:"publish",numeric:!1,label:"Published?",align:"center"},{id:"status",numeric:!1,label:"Status",align:"center"}];function K(e){var n=e.onSelectAllClick,t=e.order,r=e.orderBy,i=e.numSelected,c=e.rowCount,l=e.onRequestSort,s=e.selected;return(0,U.jsxs)(u.Z,{children:[(0,U.jsx)(h.Z,{children:i>0&&(0,U.jsx)(x.Z,{padding:"none",colSpan:8,children:(0,U.jsx)(Q,{numSelected:s.length})})}),(0,U.jsxs)(h.Z,{children:[(0,U.jsx)(x.Z,{padding:"checkbox",sx:{pl:3},children:(0,U.jsx)(p.Z,{color:"primary",indeterminate:i>0&&i<c,checked:c>0&&i===c,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),J.map((function(e){return(0,U.jsx)(x.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&t,children:(0,U.jsxs)(f.Z,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(n=e.id,function(e){l(e,n)}),children:[e.label,r===e.id?(0,U.jsx)(Z.Z,{component:"span",sx:I.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})]})}var Q=function(e){var n=e.numSelected;return(0,U.jsxs)(g.Z,{sx:(0,c.Z)({p:0,pl:1,pr:1},n>0&&{color:function(e){return e.palette.secondary.main}}),children:[n>0?(0,U.jsxs)(j.Z,{color:"inherit",variant:"h4",children:[n," Selected"]}):(0,U.jsx)(j.Z,{variant:"h6",id:"tableTitle",children:"Nutrition"}),(0,U.jsx)(Z.Z,{sx:{flexGrow:1}}),n>0&&(0,U.jsx)(m.Z,{title:"Delete",children:(0,U.jsx)(v.Z,{size:"large",children:(0,U.jsx)(W.Z,{fontSize:"small"})})})]})};n.default=function(){var e=(0,d.Z)(),n=(0,O.I0)(),t=o.useState("desc"),c=(0,i.Z)(t,2),l=c[0],u=c[1],f=o.useState("id"),Z=(0,i.Z)(f,2),g=Z[0],I=Z[1],W=o.useState([]),F=(0,i.Z)(W,2),J=F[0],Q=F[1],V=o.useState(0),X=(0,i.Z)(V,2),Y=X[0],$=X[1],ee=o.useState(5),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1],ie=o.useState(""),ce=(0,i.Z)(ie,2),le=ce[0],se=ce[1],oe=(0,o.useState)(null),ae=(0,i.Z)(oe,2),de=ae[0],ue=ae[1],he=o.useState(!1),xe=(0,i.Z)(he,2),pe=xe[0],fe=xe[1],Ze=function(){ue(null),fe(!1)},ge=o.useState([]),je=(0,i.Z)(ge,2),me=je[0],ve=je[1],be=(0,O.v9)((function(e){return console.log(e),e.event})).events;o.useEffect((function(){n((0,R.vw)())}),[n]);var Se=function(e,n){var t=e;if(se(t||""),t){var r=n.filter((function(e){var n=!0,r=!1;return["title","description"].forEach((function(n){var i;null!==(i=e[n])&&void 0!==i&&i.toString().toLowerCase().includes(t.toString().toLowerCase())&&(r=!0)})),r||(n=!1),n}));ve(r)}else ve(n)};o.useEffect((function(){Se(le,be)}),[be]);var ke=Y>0?Math.max(0,(1+Y)*te-me.length):0,we=function(){var e=(0,r.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,n((0,R.Ed)(r,t.target.checked));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,r.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,n((0,R.d2)(r,t.target.checked));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,U.jsxs)(L.Z,{title:"Event List",content:!1,children:[(0,U.jsx)(b.Z,{children:(0,U.jsxs)(S.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,U.jsx)(S.ZP,{item:!0,xs:12,sm:6,children:(0,U.jsx)(k.Z,{InputProps:{startAdornment:(0,U.jsx)(w.Z,{position:"start",children:(0,U.jsx)(M.Z,{fontSize:"small"})})},onChange:function(e){return Se(e.target.value,be)},placeholder:"Search Event",value:le,size:"small"})}),(0,U.jsxs)(S.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:[(0,U.jsx)(m.Z,{title:"Copy",children:(0,U.jsx)(v.Z,{size:"large",children:(0,U.jsx)(B.Z,{})})}),(0,U.jsx)(m.Z,{title:"Print",children:(0,U.jsx)(v.Z,{size:"large",children:(0,U.jsx)(q.Z,{})})}),(0,U.jsx)(m.Z,{title:"Filter",children:(0,U.jsx)(v.Z,{size:"large",children:(0,U.jsx)(_.Z,{})})}),(0,U.jsx)(m.Z,{title:"Add Event",children:(0,U.jsx)(C.Z,{color:"primary",size:"small",LinkComponent:a.rU,to:"/manage/event-edit",sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,U.jsx)(N.Z,{fontSize:"small"})})})]})]})}),(0,U.jsx)(P.Z,{children:(0,U.jsxs)(y.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,U.jsx)(K,{theme:e,numSelected:J.length,order:l,orderBy:g,onSelectAllClick:function(e){if(e.target.checked)if(J.length>0)Q([]);else{var n=me.map((function(e){return e.title}));Q(n)}else Q([])},onRequestSort:function(e,n){u(g===n&&"asc"===l?"desc":"asc"),I(n)},rowCount:me.length,selected:J}),(0,U.jsxs)(z.Z,{children:[H(me,G(l,g)).slice(Y*te,Y*te+te).map((function(e,t){if("number"===typeof e)return null;var r,i=(r=e.title,-1!==J.indexOf(r)),c="enhanced-table-checkbox-".concat(t);return(0,U.jsxs)(h.Z,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[(0,U.jsx)(x.Z,{padding:"checkbox",sx:{pl:3},onClick:function(n){return function(e,n){var t=J.indexOf(n),r=[];-1===t?r=r.concat(J,n):0===t?r=r.concat(J.slice(1)):t===J.length-1?r=r.concat(J.slice(0,-1)):t>0&&(r=r.concat(J.slice(0,t),J.slice(t+1))),Q(r)}(0,e.title)},children:(0,U.jsx)(p.Z,{color:"primary",checked:i,inputProps:{"aria-labelledby":c}})}),(0,U.jsx)(x.Z,{component:"th",id:c,scope:"row",sx:{cursor:"pointer"},children:(0,U.jsx)(j.Z,{component:a.rU,to:"/manage/event-edit/".concat(null===e||void 0===e?void 0:e.slug),variant:"subtitle1",sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer",textDecoration:"none"},children:e.title})}),(0,U.jsx)(x.Z,{children:e.description}),(0,U.jsx)(x.Z,{align:"center",children:(0,U.jsx)(E.Z,{checked:e.publish,color:"".concat(e.publish?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(t,r){var i={id:e.id,publish:t.target.checked,step:"detail",_method:"put"};n((0,R.eJ)(i,(function(){}),(function(){}))),Ce(t,e)}})}),(0,U.jsx)(x.Z,{align:"center",children:(0,U.jsx)(E.Z,{checked:e.status,color:"".concat(e.status?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(n,t){we(n,e),console.log(t)}})})]},t)})),ke>0&&(0,U.jsx)(h.Z,{style:{height:53*ke},children:(0,U.jsx)(x.Z,{colSpan:6})})]})]})}),(0,U.jsx)(D.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:me.length,rowsPerPage:te,page:Y,onPageChange:function(e,n){$(n)},onRowsPerPageChange:function(e){re(parseInt(null===e||void 0===e?void 0:e.target.value,10)),$(0)}}),(0,U.jsx)(A.Z,{maxWidth:"md",scroll:"paper",fullWidth:!0,onClose:Ze,open:pe,sx:{"& .MuiDialog-paper":{p:0}},children:pe&&(0,U.jsx)(T.default,{event:de,open:pe,handleCloseDialog:Ze,onCancel:Ze})})]})}}}]);